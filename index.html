<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    
	<link rel="stylesheet" type="text/css" href="./css/bootstrap.min.css?950">
	<link rel="stylesheet" type="text/css" href="style.css?6455">
	<link rel="stylesheet" type="text/css" href="./css/font-awesome.min.css">
	
    <title>Home</title>


    
<!-- Analytics -->
 
<!-- Analytics END -->
    
</head>
<body>
<!-- Main container -->
<div class="page-container">
    
<!-- bloc-0 -->
<div class="bloc bloc-bg-texture texture-darken-strong bg-cornfield d-bloc " id="bloc-0">
	<div class="container bloc-lg">
		<div class="row">
			<div class="col-12">
				<img id="text-image" src="img/lazyload-ph.png" data-src="img/placeholder-image-wide.png" class="img-fluid mx-auto d-block lazyload" alt="placeholder image-wide" />
				<div class="divider-h">
					<span class="divider"></span>
				</div>
				<input id="file-input" type="file" name="name" style="display: none;" />
				<div id="load-image" class="btn btn-d btn-sm btn-block">Загрузить изображение</div>
			</div>
			<div class="col-12">
				<div class="divider-h">
					<span class="divider"></span>
				</div>
				<form id="form_10107" data-form-type="blocs-form" novalidate>
					<div class="form-group">
						<label>
							Результат<br>
						</label><textarea class="form-control" rows="4" cols="50" id="textarea_437"></textarea>
						<div class="divider-h">
							<span class="divider"></span>
						</div>
					</div>
					<div class="form-group">
						<label>
							Время
						</label>
						<input class="form-control" id="input_2887" />
						<div class="divider-h">
							<span class="divider"></span>
						</div>
					</div><div id="recognize-button" class="btn btn-d btn-block">Распознать</div>
				</form>
			</div>
		</div>
	</div>
</div>
<!-- bloc-0 END -->

<!-- ScrollToTop Button -->
<a class="bloc-button btn btn-d scrollToTop" onclick="scrollToTarget('1',this)"><span class="fa fa-chevron-up"></span></a>
<!-- ScrollToTop Button END-->


</div>
<!-- Main container END -->
    

<script src="./js/jquery-3.3.1.min.js?3764"></script>
<script src="./js/bootstrap.bundle.min.js?3871"></script>
<script src="./js/blocs.min.js?6532"></script>
<script src="./js/jqBootstrapValidation.js"></script>
<script src="./js/formHandler.js?9605"></script>
<script src="./js/lazysizes.min.js" defer></script>
<!-- Additional JS END -->
<!-- Preloader -->
<div id="page-loading-blocs-notifaction" class="page-preloader"></div>
<!-- Preloader END -->
                <!-- JS Logic-->
                <script> 
                    $("#load-image").on("click", function() {
                        $("#file-input").trigger("click");
                    });
                    $("#file-input").on("change", function(){
                        $("#text-image").attr("src", this.files[0].name);
                    });
                    $("#recognize-button").on("click",function () {
                        var image = $("#text-image").attr("src");
                        if (image === '' || image === 'img/placeholder-image-wide.png') {
                            alert('Вы не выбрали изображение')
                        } else {
                            $.ajax({
                                type: "POST",
                                url: '/recognize',
                                contentType: 'application/json',
                                async: true,
                                data: JSON.stringify({"image_path": image}),
                                success: function (data) {
                                    document.getElementById("textarea_437").value = data["text"];
                                    document.getElementById("input_2887").value = data["time"];
                                }
                            });
                        }
                    });
                </script>
                <!-- JS Logic -->
</body>
</html>
